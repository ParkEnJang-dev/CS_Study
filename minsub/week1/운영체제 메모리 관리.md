



### 개념
---

메모리 관리는 운영체제의 핵심 기능 중 하나입니다. 컴퓨터의 한정된 물리 메모리를 효율적으로 활용하여 여러 프로세스가 동시에 실행될 수 있도록 조정하는 역할을 담당합니다.

### 메모리 관리의 목표
---
1. **효율성**: 한정된 메모리 자원을 최대한 효율적으로 사용하여, 가능한 많은 작업을 동시에 처리할 수 있게 합니다.
2. **공정성**: 모든 프로세스가 충분한 메모리 자원을 공정하게 할당받아 작업을 수행할 수 있도록 합니다.
3. **보호**: 각 프로세스의 메모리 영역을 보호하여, 다른 프로세스에 의해 데이터가 침해되거나 변경되는 것을 방지합니다.
4. **공유**: 필요한 경우, 여러 프로세스가 메모리 자원을 공유할 수 있도록 지원하여 자원의 효율적 사용을 도모합니다.
5. **유연성**: 프로세스의 메모리 요구사항이 변경되거나 다양한 메모리 요구 사항을 가진 프로세스를 지원할 수 있도록 유연하게 메모리를 관리합니다.

### 메모리 관리 기능
---
- **메모리 할당**: 프로세스가 실행될 때, 운영체제는 프로세스에 필요한 메모리 공간을 할당합니다.
- **주소 변환**: 프로그램이 사용하는 가상 메모리 주소를 실제 물리 메모리 주소로 변환합니다.
- **메모리 보호**: 운영체제는 메모리 영역이 무단으로 접근되거나 변경되는 것을 방지하기 위해 메모리 보호 기능을 제공합니다.
- **메모리 공유**: 필요한 경우, 운영체제는 여러 프로세스가 메모리 영역을 공유할 수 있도록 지원합니다.
- **메모리 회수**: 프로세스가 종료되면, 운영체제는 사용되었던 메모리를 회수하여 다시 사용할 수 있도록 합니다.

## 프로그램의 적재방식

### 정적 적재(Static Loading)
---
정적 적재는 프로그램이 실행되기 전에 프로그램의 모든 모듈(실행 가능한 코드와 데이터)이 메모리에 로드되어야 하는 방식입니다. 이 과정에서 링커(Linker)가 모든 필요한 모듈을 하나의 실행 파일로 결합합니다. 프로그램 실행 시, 운영체제는 이 실행 파일을 메모리에 전체적으로 로드하고 실행을 시작합니다.

#### 특징
- **효율성**: 실행 파일이 완전히 메모리에 로드되므로, 실행 중에 추가적인 I/O 작업이 필요 없어 실행 속도가 빠릅니다.
- **메모리 사용**: 필요하지 않은 코드나 데이터도 메모리에 로드될 수 있으므로, 메모리 사용이 비효율적일 수 있습니다.
- **간단한 관리**: 프로그램이 시작될 때 한 번에 모든 것이 로드되므로, 메모리 관리가 비교적 단순합니다.

### 동적 적재(Dynamic Loading)
---
동적 적재는 프로그램의 모든 모듈이 시작 시에 메모리에 로드되지 않고, 필요할 때마다 해당 모듈만 메모리에 로드되는 방식입니다. 즉, 프로그램 실행 중에 프로그램의 일부분이 요청될 때 해당 부분만 동적으로 메모리에 로드됩니다.

#### 특징
- **메모리 효율성**: 프로그램 실행 중 실제로 필요한 코드와 데이터만 메모리에 로드되므로, 메모리 사용이 효율적입니다.
- **유연성**: 프로그램의 다양한 모듈을 필요에 따라 로드할 수 있으므로, 프로그램의 유연성이 증가합니다.
- **복잡한 관리**: 동적 적재를 위해서는 실행 시간에 메모리 관리가 필요하며, 이는 추가적인 오버헤드를 발생시킬 수 있습니다.

### 비교
- **성능**: 정적 적재는 실행 파일이 전체적으로 메모리에 로드되므로 초기 실행 속도가 빠를 수 있지만, 메모리 사용 측면에서는 비효율적일 수 있습니다. 동적 적재는 필요한 부분만 로드하기 때문에 메모리 사용은 효율적이나, 실행 중 로드 시간으로 인해 성능 저하가 발생할 수 있습니다.
- **사용 사례**: 작은 프로그램이나 메모리 사용에 큰 제약이 없는 환경에서는 정적 적재가 적합할 수 있으며, 대규모 응용 프로그램이나 메모리 사용을 최적화해야 하는 경우에는 동적 적재가 더 적합할 수 있습니다.

## 메모리 할당 방식

### 연속 메모리 할당
---
연속 메모리 할당 방식에서는 프로세스가 메모리 내에서 연속적인 주소 공간을 차지합니다. 이 방식은 메모리를 효율적으로 사용하고 관리하는 데 있어 몇 가지 제약이 있습니다. 연속 메모리 할당 방식은 **고정분할 할당**과 **가변분할 할당**으로 구분할 수 있습니다.
#### 고정 분할 할당 
고정분할 메모리 할당은 이 연속 메모리 할당의 한 예로, 메모리가 고정된 크기의 분할로 나뉘어 각 분할에 하나의 프로세스가 할당됩니다. 프로세스는 할당된 분할 내에서 연속적인 메모리 공간을 사용합니다. 고정분할 할당 방식에서는 메모리가 고정된 크기의 여러 분할로 나뉩니다. 이 분할들은 시스템이 부팅될 때 결정되며, 실행 중에는 그 크기나 수를 변경할 수 없습니다. 각 분할은 단일 프로세스에 할당되며, 프로세스가 종료되면 해당 분할은 다른 프로세스에 재할당될 수 있습니다.

**특징**
- **단순성**: 메모리 관리가 상대적으로 단순하다는 장점이 있습니다. 분할의 크기와 수가 고정되어 있기 때문에, 메모리 할당과 회수 과정이 간단합니다.
- **내부 조각화**: 프로세스가 할당받은 분할 크기보다 작을 경우, 남는 공간이 발생할 수 있습니다. 이는 내부 조각화로 이어지며, 메모리의 일부가 낭비됩니다.
- **외부 조각화 없음**: 모든 분할이 고정 크기로 설정되어 있으므로, 외부 조각화는 발생하지 않습니다.
- **유연성 부족**: 프로세스의 크기가 고정된 분할 크기보다 클 경우, 해당 프로세스는 메모리에 적재될 수 없습니다. 이는 시스템의 유연성을 제한합니다.

#### 가변분할 할당 (Dynamic-Partition Allocation)

가변분할 할당 방식에서는 메모리가 프로세스의 크기와 수요에 따라 동적으로 분할됩니다. 즉, 프로세스가 메모리를 요청하면 시스템은 프로세스의 크기에 맞게 메모리 공간을 할당합니다. 프로세스가 종료되고 메모리가 회수되면, 이 공간은 다시 메모리 풀에 반환됩니다.

**특징**
- **유연성**: 프로세스의 크기에 맞게 메모리 공간을 동적으로 할당할 수 있으므로, 시스템의 유연성이 향상됩니다.
- **외부 조각화**: 시간이 지남에 따라 메모리의 할당과 회수 과정에서 작은 메모리 블록이 여러 곳에 분산될 수 있습니다. 이는 외부 조각화를 발생시키며, 충분한 총 메모리가 있음에도 불구하고 큰 메모리 요청을 만족시키지 못할 수 있습니다.
- **내부 조각화 감소**: 프로세스에 필요한 정확한 양의 메모리를 할당할 수 있으므로, 내부 조각화가 감소합니다.
- **관리 복잡성 증가**: 메모리 할당과 회수 과정이 복잡해지며, 메모리 관리를 위한 추가적인 알고리즘이 필요합니다. 예를 들어, 최적의 메모리 할당을 결정하기 위해 '최초 적합(first-fit)', '최적 적합(best-fit)', '최악 적합(worst-fit)'과 같은 알고리즘이 사용됩니다.

고정분할과 가변분할 할당 방식은 메모리 관리 전략에서 각각의 장단점을 가지고 있으며, 시스템의 요구 사항과 목적에 따라 적절히 선택되어야 합니다. 고정분할은 구현이 간단하고 예측 가능한 시스템에서 유용할 수 있으나, 메모리 사용의 효율성과 유연성 측면에서는 가변분할 할당이 더 우수한 성능을 제공할 수 있습니다.
