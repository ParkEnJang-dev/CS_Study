


## 프로세스와 쓰레드가 무엇인지 그리고 차이점에 대해서 설명하시오.
---
두 개념의 가장 큰 차이점은 '자원 공유'와 '격리성'에 있습니다.

### 프로세스 (Process)
- **정의:** 운영체제로부터 자원을 할당받아 실행되는 **독립적인 프로그램의 인스턴스**입니다.
- **특징:**
    - 각 프로세스는 **독립된 메모리 주소 공간**(Code, Data, Stack, Heap)을 가집니다.
    - 기본적으로 다른 프로세스의 자원에 접근할 수 없으며, 서로 격리되어 있습니다.
    - 프로세스 간 통신을 위해서는 **IPC(Inter-Process Communication)**라는 별도의 방법이 필요합니다.
### 스레드 (Thread)
- **정의:** 하나의 프로세스 내에서 실행되는 **여러 실행 흐름(Flow of Control)**의 단위입니다.
- **특징:**
    - 프로세스 내의 **메모리(Code, Data, Heap)와 자원을 공유**합니다. (단, **Stack** 영역은 스레드마다 독립적으로 가집니다.)
    - 같은 프로세스 내의 스레드끼리는 자원을 공유하므로 통신 비용이 적고 생성이 빠릅니다.
    - 하나의 스레드에 문제가 생기면 전체 프로세스에 영향을 줄 수 있습니다.

### 요약
- 프로세스는 운영체제로부터 자원을 할당받는 **작업의 단위**이며, 스레드는 프로세스가 할당받은 자원을 이용하는 **실행의 단위**입니다. 가장 큰 차이는 **메모리 공유 여부**로, 프로세스는 독립적이지만 스레드는 자원을 공유합니다.
  프로세스는 자원 할당에서 독립적이기에 프로세스간의 컨텍스트 스위칭이 발생하며 오버헤드가 발생하는데 스레드는 자원을 공유하기에 리소스 사용량이 적고, 프로세스간 컨텍스트 스위칭이 발생하지 않아 오버헤드가 적다. 

### Q1. 프로세스 간에는 데이터를 어떻게 주고받나요? (IPC)
- **답변:** 프로세스는 독립적인 메모리 공간을 가지므로 직접 통신이 불가능합니다. 따라서 **IPC(Inter-Process Communication)** 기법을 사용합니다.
- **대표적인 예:**
    - **파이프(Pipe):** 익명 파이프, 네임드 파이프
    - **메시지 큐(Message Queue):** 메시지 지향 통신
    - **공유 메모리(Shared Memory):** 메모리 영역을 직접 공유 (가장 빠름)
    - **소켓(Socket):** 네트워크를 경유한 통신
### Q2. 스레드 간 동기화(Synchronization)는 왜 필요한가요?
- **답변:** 여러 스레드가 **공유 자원(데이터)**에 동시에 접근하여 쓰기 작업을 할 경우, 데이터의 일관성이 깨질 수 있습니다(Race Condition). 이를 방지하기 위해 한 번에 하나의 스레드만 접근하도록 제어하는 동기화가 필수적입니다.
    
- **해결 방법:** 뮤텍스(Mutex), 세마포어(Semaphore) 등을 사용합니다.
  
	- 뮤텍스 (Mutex, Mutual Exclusion)
		- **핵심 개념:** **"자물쇠(Locking Mechanism)"**
		- **특징:**
		    - 공유 자원에 **오직 1개의 프로세스/스레드만** 접근할 수 있습니다.
			- **소유권(Ownership)이 있습니다.** 락(Lock)을 건 스레드만이 락을 해제(Unlock)할 수 있습니다. 다른 스레드가 억지로 락을 풀 수 없습니다.
		- **비유:**
			- **"화장실이 하나뿐인 식당"** 열쇠는 딱 하나입니다. 손님(스레드)이 열쇠를 갖고 화장실(공유 자원)에 들어가 문을 잠급니다. 볼일을 다 본 후 나와서 열쇠를 반납해야만 다음 사람이 들어갈 수 있습니다.
	- 세마포어 (Semaphore)
		- **핵심 개념:** **"신호(Signaling Mechanism)"**
		- **특징:**
			- 공유 자원에 접근할 수 있는 **스레드의 최대 허용 수(Count)**를 정해둡니다.
			- **소유권이 없습니다.** 락을 걸지 않은 다른 스레드가 `signal()`을 보내 락을 해제(Count 증가)할 수도 있습니다.
			- 종류:
				- **카운팅 세마포어 (Counting Semaphore):** 자원의 개수가 여러 개일 때.
				- **이진 세마포어 (Binary Semaphore):** 자원이 0 또는 1개일 때 (뮤텍스와 비슷해 보이지만 소유권 개념이 다름).
            
		- **비유:**
				- **"빈 자리가 표시되는 주차장"** 주차 공간이 5칸(Count=5) 있습니다. 차(스레드)가 들어올 때마다 전광판 숫자가 하나씩 줄어듭니다. 0이 되면 차단기가 내려가고 대기해야 합니다. 나가는 차가 있으면 숫자가 올라가고, 대기하던 차가 들어갑니다.
	- 백엔드 개발자는 이걸 언제 쓸까요?
	- "동시에 너무 많은 요청이 몰리면 서버가 터질 때" 사용합니다.
		- **DB 커넥션 풀:** "우리 DB는 동시에 10명만 접속 가능해." -> `Semaphore(10)`으로 설정. 11번째 요청부터는 대기.
		- **파일 다운로드 제한:** "동시 다운로드는 3개까지만 허용하자." -> `Semaphore(3)` 설정.

### Q3. 멀티 프로세싱 vs 멀티 스레딩의 차이는 무엇인가요?

- **멀티 프로세싱:** 여러 CPU(코어)를 사용하여 여러 프로세스를 동시에 실행하는 것입니다. 하나의 프로세스가 죽어도 다른 프로세스에 영향이 적어 **안정성**이 높습니다.
    
- **멀티 스레딩:** 하나의 프로세스 안에서 여러 스레드를 실행하는 것입니다. 자원을 공유하므로 **효율성**이 높고 처리 속도가 빠르지만, 동기화 문제에 주의해야 합니다.

### Q4. 컨텍스트 스위칭이란 무엇이며, 프로세스와 쓰레드에 어떻게 영향을 미치나요?
- 컨텍스트 스위칭은 CPU가 한 작업에서 다른 작업으로 전환할 때 발생하는 과정입니다. 이 과정에서 현재 상태(컨텍스트)를 저장하고 새 작업의 상태를 불러와야 합니다. 쓰레드 간의 컨텍스트 스위칭은 프로세스 간 스위칭보다 덜 자원 집약적이며 빠릅니다. 이는 쓰레드가 같은 프로세스 내 메모리와 자원을 공유하기 때문입니다."

### Q5. 데드락(Deadlock, 교착 상태)이란 무엇이며 해결법은?

- **정의:** 두 개 이상의 프로세스나 스레드가 서로 상대방이 가진 자원을 기다리며 무한 대기 상태에 빠지는 것입니다.
- **해결법:**
    - **예방:** 데드락 발생 조건 4가지(상호 배제, 점유 대기, 비선점, 순환 대기) 중 하나를 제거합니다.
    - **회피:** 은행원 알고리즘(Banker's Algorithm) 등을 사용해 안전한 상태에서만 자원을 할당합니다.
    - **탐지 및 회복:** 데드락 발생을 주기적으로 검사하고, 발생 시 프로세스를 종료하거나 자원을 선점하여 해결합니다.